cmake_minimum_required(VERSION 3.16)
project(MFAClient VERSION 1.0.0 LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_AUTOMOC ON)

# Qt6 찾기
find_package(Qt6 REQUIRED COMPONENTS Core Widgets Network)

# 실행 파일 생성
add_executable(MFAClient
    main.cpp
    mfa_window.cpp
    mfa_window.h
    qr_code_dialog.cpp
    qr_code_dialog.h
)

# Qt6 라이브러리 링크
target_link_libraries(MFAClient
    Qt6::Core
    Qt6::Widgets
    Qt6::Network
)

# Windows에서 콘솔 창 숨기기
if(WIN32)
    set_target_properties(MFAClient PROPERTIES
        WIN32_EXECUTABLE TRUE
    )
endif()

# 설치 규칙
install(TARGETS MFAClient
    RUNTIME DESTINATION bin
)